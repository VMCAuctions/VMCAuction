<!DOCTYPE html>
<html>
    <head>
		<!-- Required meta tags -->
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
		<title>New User Registration | MVCF Silent Auction </title>

		<!-- Bootstrap -->

		<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.1/css/bootstrap.min.css" integrity="sha384-WskhaSGFgHYWDcbwN70/dfYBj47jz9qbsMId/iRN3ewGhXQFZCSftd1LZCfmhktB" crossorigin="anonymous">
			<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.0.13/css/all.css" integrity="sha384-DNOHZ68U8hZfKXOrtjWvjxusGo9WQnrNx2sqG0tfsghAvtVlRW3tvkXWZh58N9jp" crossorigin="anonymous">
		<!-- <link rel="stylesheet" href="css/style.css">  -->
		<link rel="stylesheet" href="/css/user.css">


		<!-- JavaScript -->
		<script src="https://code.jquery.com/jquery-1.11.1.min.js"></script>
		<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js" integrity="sha384-ZMP7rVo3mIykV+2+9J3UJ46jBk0WLaUAdn689aCwoqbBJiSnjAK/l8WvCWPIPm49" crossorigin="anonymous"></script>
		<!-- <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.0/js/bootstrap.min.js" integrity="sha384-uefMccjFJAIv6A+rW+L4AHf99KvxDjWSu1z9VI8SKNVmz4sk7buKt/6v9KI65qnm" crossorigin="anonymous"></script> -->
		<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.1/js/bootstrap.min.js" integrity="sha384-smHYKdLADwkXOn1EmN1qk/HfnUcbVRZyYmZ4qpPea6sjB/pTJ0euyQp0Mk8ck+5T" crossorigin="anonymous"></script>

		<script src="https://cdn.jsdelivr.net/jquery.validation/1.16.0/jquery.validate.min.js"></script>
		<script src="https://cdn.jsdelivr.net/jquery.validation/1.16.0/additional-methods.min.js"></script>
		<script src="https://rawgit.com/RobinHerbots/jquery.inputmask/3.x/dist/jquery.inputmask.bundle.js"></script>

	<script>
		$(document).ready(function() {
        validator.resetForm();
      	});
	</script>

  	</head>

	<body class="regist-body">
		<div class="container regist-container">
			<div class="row">
				<div class="col"></div>  <!-- this column is for equal space on the margins -->
				<div class="col-sm-12 col-md-8">  <!-- the column where all our content will go; for medium and larger use size 8; for mobile (small), use the full screen (size 12); -->
					<div class="card regist-card">
						<div class="card-body">
							<img src="/VMCF_Logo_Blue_rgb.png" class="img-fluid signin-img" alt="Valley Medical Center Foundation logo">
							<h3>Silent Auction Supporter Registration</h3>
							<p class="star">The fields marked with (*) are mandatory.</p>
							<form class="reg-form" id="registrationForm" method = "POST" action="/users/create">
								<div class="form-group">
										<label for="auctionName">Select Auction</label>
										<select class="form-control" name="auctionName" id="auctionName">
											<% for (a in auctions) {%>
												<option value="<%=auctions[a]._id%>"><%=auctions[a].name%></option>
											<% } %>
										</select>
              					</div>
								<div class="form-row">
									<div class="form-group col-md-6">
										<label for="firstName">First Name*</label>
										<input type="text" name="firstName" id="firstName" class="form-control">
									</div>
									<div class="form-group col-md-6">
										<label for="lastName">Last Name*</label>
										<input type="text" name="lastName" id="lastName" class="form-control">
									</div>
								</div>
								<div class="form-group">
										<label for="userName">Email* (this will be your user name)</label>
										<input type="email" name="userName" id="userName" class="form-control">
								</div>
								<div class="form-group">
										<label for="phoneNumber">Cell Phone Number*</label>
										<input type="text" name="phoneNumber" id="phoneNumber" class="form-control"  >
								</div>
								<div class="form-group">
									<label for="streetAddress">Address</label>
									<input type="text" name="streetAddress" id="streetAddress" class="form-control">
								</div>
								<div class="form-row">
									<div class="form-group col-md-6">
										<label for="city">City</label>
										<input type="text" name="city" id="city" class="form-control">
									</div>
									<div class="form-group col-md-3">
										<label for="states">State</label>
										<input type="text" name="states" id="states" class="form-control">
									</div>
									<div class="form-group col-md-3">
										<label for="zip">Zip</label>
										<input type="text" name="zip" id="zip" class="form-control">
									</div>
								</div>	
								<!--							
								<div class="form-group">
								    <label for="email">Email</label>
								    <input type="email" name="email" id="email" class="form-control">
								</div> -->
								
								<div class="form-row">	
									<div class="form-group col-md-6">
										<label for="password">Password*</label>
										<input type="password" name="password" id="password" class="form-control">
									</div>
									<div class="form-group col-md-6">
										<label for="confirm">Confirm Password*</label>
										<input type="password" name="confirm" id="confirm" class="form-control" >
									</div>
									
								</div>
								<button type="submit" class="btn regist-btn btn-lg">Submit</button>
							</form>
							<div class="question">
								<a href="mailto: Julie.Ott@hhs.sccgov.org">Need help?</a> | <a href="/users/login">Already have an account?</a>
							</div>
						</div><!-- End card-body-->
					</div>
				</div>
				<div class="col"></div> <!-- this column is for equal space on the margins -->
			</div> <!-- end row -->
		</div> <!-- end container -->

    <script>
		$("#phoneNumber").inputmask("999-999-9999");
		
		var validator = $("#registrationForm").validate({
			rules: {
				firstName: {
					required: true,
					rangelength: [2, 50]
				},
				lastName: {
					required: true,
					rangelength: [2, 50]
				},
				// streetAddress: {
				// 	required: true,
				// 	street: true
				// },
				// city: {
				// 	required: true,
				// 	rangelength: [2, 50]
				// },
				// states: {
				// 	required: true,
				// 	state: true
				// },
				// zip: {
				// 	required: true,
				// 	zipcodeUS: true
				// },
				phoneNumber: {
					required: true,
					phoneUS: true,
				},
				email: {
					required: true,
					email: true
				},
				userName: {
					required: true,
					user: true,
					nowhitespace: true,
					// rangelength: [5, 25],
					remote: '/users/duplicate'
				},
				password: {
					required: true,
					minlength: 6
				},
				confirm: {
					equalTo: "#password"
				}
			}
		});

		$.validator.methods.email = function( value, element ) {
			return this.optional( element ) || /^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test( value );
		}
		jQuery.validator.addMethod("street", function(value, element) {
			return this.optional(element) || /^\s*\S+(?:\s+\S+){2}/.test(value);
		}, "Please specify a valid street address");

		jQuery.validator.addMethod("state", function(value, element) {
			return this.optional(element) || /^(A[AEKLPRZ]|C[AOT]|D[CE]|FL|GA|HI|I[ADLN]|K[SY]|LA|M[ADEINOST]|N[CDEHJMVY]|O[HKR]|PA|RI|S[CD]|T[NX]|UT|V[AT]|W[AIVY]|a[aeklprz]|c[aot]|d[ce]|fl|ga|hi|i[adln]|k[sy]|la|m[adeinost]|n[cdehjmvy]|o[hkr]|pa|ri|s[cd]|t[nx]|ut|v[at]|w[aivy])$/.test(value);
		}, "Please specify the two-digit code for a US state");

		jQuery.validator.addMethod("user", function(value, element) {
			return this.optional( element ) || /^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test( value );
			// return this.optional(element) || /^[a-zA-Z0-9\-_.]+$/.test(value);
		});
			// "Please use only letters numbers -_."

		validator.form();

    </script>
    </body>
</html>
