<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title>Clerk's Dashboard</title>
		<!-- pdfmake scripts -->
		<script src='/pdfmake/pdfmake.js'></script>
		<script src='/pdfmake/vfs_fonts.js'></script>
		<!-- jquery -->
		<script src="https://code.jquery.com/jquery-1.11.1.min.js"></script>
		<!-- sockets -->
		<script src="/socket.io/socket.io.js"></script>

		<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
		<link rel="stylesheet" type="text/css" href="/css/clerkDash.css">
		<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.0.13/css/all.css" integrity="sha384-DNOHZ68U8hZfKXOrtjWvjxusGo9WQnrNx2sqG0tfsghAvtVlRW3tvkXWZh58N9jp" crossorigin="anonymous">

		<!-- Bootstrap CSS -->
		<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">
		<script src="https://code.jquery.com/jquery-1.11.1.min.js"></script>
		<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js" integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q" crossorigin="anonymous"></script>
		<script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js" integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl" crossorigin="anonymous"></script>
	</head>
	<body>
		<div class="container">
			<div id="checkInLastNameSearch">
				<label for "lastname" class="label-search">Search by Last Name</label>
				<input class="form-control" type="search" id="lastname" placeholder="Last Name">
			</div>
			
			<!-- Search for Supporters-->
			<div id="supporterTable">
				<table class="table table-striped table-bordered mt-4" id="sup-table">
					<thead>
						<tr>
							<th scope="col">First Name</th>
							<th scope="col">Last Name</th>
							<th scope="col">Org Name</th>
							<th scope="col">Address</th>
							<th scope="col">Table</th>
						</tr>
					</thead>
					<tbody>
				
					<% for (var u in users) {%>
						<tr class="supporterRow">
							<td id="supporterName-<%= users[u].userName %>"><a href="/<%=auction%>/users/account/<%= users[u].userName %>"><%= users[u].firstName %> <%= users[u].lastName %></a></td>
							<td><%= users[u].userOrg %></td>
							<td><%= users[u].streetAddress %></td>
							<td><%= users[u].table %></td>
						</tr>
					<%}%>
				
					</tbody>
				</table>
			</div>

			<!-- Form for the supporters Update information -->
			<div id="supporterCheckInInfo">
				<div class="card regist-card" id="user-info" data=<%= user.userName%>>
					<div class="card-body">
						<h5>Here is information for: <%= user.firstName%> <%= user.lastName%></h5>
						<h6 class="mb-3">(Please update if necessary)</h6>
						<form id="supporterCheckInForm" action="/<%=auction%>/users/account/<%=user.userName%>" method="post">

							<div class="form-row">
								<div class="form-group col-md-6">
									<label for="firstName">First Name</label>
									<input type="text" name="firstName" class="form-control" value="<%= user.firstName %>">
								</div>
								<div class="form-group col-md-6">
									<label for="lastName">Last Name</label>
									<input type="text" name="lastName" class="form-control" value="<%= user.lastName %>">
								</div>
							</div>
								<div class="form-row">
									<div class="form-group col-md-4">
										<label for="table" class="label-name">Table #</label>
										<input id="table" type="text" name="table" class="form-control" value="<%= table %>">
									</div>
									<div class="form-group col-md-8">
										<label for="tableOwnerName" class="label-name">Table Owner</label>
										<input id="tableOwnerName" type="text" name="tableOwnerName" class="form-control" value="<%= user.tableOwnerName %>">
									</div>
								</div>
								<div class="form-group">
									<label for="userOrg">Organization</label>
									<input type="text" name="userOrg" class="form-control" value="<%= user.userOrg %>">
								</div>
							<div class="form-group">
								<label for="userName">Email/Username</label>
								<input type="text" name="userName" class="form-control" id="userNameTarget" value="<%= user.userName %>">
							</div>

							<div class="form-group">
								<label for="phoneNumber">Cell Phone Number</label>
								<input type="tel" name="phone" class="form-control" id="phoneTarget" value="<%= user.phone %>">
							</div>

							<div class="form-group">
								<label for="streetAddress">Address</label>
								<input type="text" name="address" class="form-control" value="<%= user.streetAddress %>">
							</div>

							<div class="form-row">
								<div class="form-group col-md-6">
									<label for="city">City</label>
									<input type="text" name="city" class="form-control" value="<%= user.city %>">
								</div>
								<div class="form-group col-md-3">
									<label for="states">State</label>
									<input type="text" name="states" class="form-control" value="<%= user.states %>">
								</div>
								<div class="form-group col-md-3">
									<label for="zip">Zip</label>
									<input type="text" name="zip" class="form-control" value="<%= user.zip %>">
								</div>
							</div>
							<div class="form-row">
								<div class="form-group">
									<input type="submit" name="submit" value="Update" class="btn btn-submit mt-1">
								</div>
								<div class="form-group">
									<button type="button" id="sendLinkButton" class="btn btn-add mb-4">Send Auction URL SMS Message</button>
								</div>
							</div>
						</form>
					</div>
				</div>
			</div>
		</div>
	</div>
		<!-- json parse scripts -->
		<script type="text/javascript">
			var cart = <%-JSON.stringify(cart)%>;
			var packages = <%-JSON.stringify(packages)%>;
		</script>
		<!-- search box scripts -->
		<script type="text/javascript">
			$(document).ready(function () {
				console.log("100 clerkDash.js script document.ready start");
				
				$("#checkInLastNameSearch").show();
				$("#supporterTable").hide();
				$("#lastName").on("keyup", function () {
					var value = $(this).val().toLowerCase();
					if (value == '') {
						$("#supporterTable").hide();
					} else {
						$("#supporterTable").show();
						$(".supporterRow").filter(function () {
							$(this).toggle($(this).text().toLowerCase().indexOf(value) > 0);
						});
					};
				});

				$("#supporterTable").on('click', .)



			})
		</script>
	</body>
</html>
